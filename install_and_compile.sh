sudo raspi-config --expand-rootfs; sudo reboot;
sudo apt-get purge -y wolfram-engine; sudo apt-get purge -y libreoffice*; sudo apt-get clean; sudo apt-get autoremove -y; sudo apt-get update && sudo apt-get upgrade; sudo apt-get install -y git; git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf; ~/.fzf/install --all; sudo apt-get install -y build-essential cmake unzip pkg-config; sudo apt-get install -y libjpeg-dev libpng-dev libtiff-dev; sudo apt-get install -y libavcodec-dev libavformat-dev libswscale-dev libv4l-dev; sudo apt-get install -y libxvidcore-dev libx264-dev; sudo apt-get install -y libgtk-3-dev; sudo apt-get install -y libcanberra-gtk*; sudo apt-get install -y libatlas-base-dev gfortran; sudo apt-get install -y python3-dev; cd ~; wget -O opencv.zip https://github.com/opencv/opencv/archive/4.0.0.zip; wget -O opencv_contrib.zip https://github.com/opencv/opencv_contrib/archive/4.0.0.zip; unzip opencv.zip; unzip opencv_contrib.zip; mv opencv-4.0.0 opencv; mv opencv_contrib-4.0.0 opencv_contrib; wget https://bootstrap.pypa.io/get-pip.py; sudo python3 get-pip.py; sudo pip install virtualenv virtualenvwrapper; sudo rm -rf ~/get-pip.py ~/.cache/pip; echo -e "\n# virtualenv and virtualenvwrapper" >> ~/.profile; echo "export WORKON_HOME=$HOME/.virtualenvs" >> ~/.profile; echo "export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3" >> ~/.profile; echo "source /usr/local/bin/virtualenvwrapper.sh" >> ~/.profile; source ~/.profile; mkvirtualenv cv -p python3; workon cv; pip install numpy; cd ~/opencv; mkdir build; cd build; cmake -D CMAKE_BUILD_TYPE=RELEASE \    -D CMAKE_INSTALL_PREFIX=/usr/local \    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib/modules \    -D ENABLE_NEON=ON \    -D ENABLE_VFPV3=ON \    -D BUILD_TESTS=OFF \    -D OPENCV_ENABLE_NONFREE=ON \    -D INSTALL_PYTHON_EXAMPLES=OFF \    -D BUILD_EXAMPLES=OFF ..; sudo sed -i 's/CONF_SWAPSIZE=100/CONF_SWAPSIZE=2048/g' /etc/dphys-swapfile; sudo /etc/init.d/dphys-swapfile stop; sudo /etc/init.d/dphys-swapfile start; make -j4; sudo make install; sudo ldconfig; sudo sed -i 's/CONF_SWAPSIZE=2048/CONF_SWAPSIZE=100/g' /etc/dphys-swapfile; sudo /etc/init.d/dphys-swapfile stop; sudo /etc/init.d/dphys-swapfile start; cd ~/.virtualenvs/cv/lib/python3.5/site-packages/; ln -s /usr/local/python/cv2/python-3.5/cv2.cpython-35m-arm-linux-gnueabihf.so cv2.so; cd ~; workon cv; echo 'import cv2; print(cv2.__version__)' | python;
